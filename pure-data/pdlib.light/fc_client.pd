#N canvas 69 24 872 814 12;
#X obj 515 178 cnv 15 180 250 empty empty System\\\ message 20 12 0
14 #e0e0e0 #404040 0;
#X obj 264 253 cnv 15 149 57 empty empty empty 20 12 0 14 #84dcff #404040
0;
#X obj 16 16 cnv 15 476 198 empty empty Auto-connect 20 12 0 14 #e0e0e0
#404040 0;
#X obj 440 490 cnv 15 189 170 empty empty Close\\\ message 20 12 0
14 #e0e0e0 #404040 0;
#X obj 18 385 cnv 15 407 299 empty empty Initial\\\ messages 20 12
0 14 #e0e0e0 #404040 0;
#X obj 635 559 cnv 15 217 101 empty empty Incoming\\\ message 20 12
0 14 #e0e0e0 #404040 0;
#X obj 515 17 cnv 15 180 150 empty empty Callback 20 12 0 14 #e0e0e0
#404040 0;
#X obj 440 720 netsend;
#X obj 284 260 tgl 20 0 empty empty Connect 22 10 0 10 #fcfcfc #00a008
#000000 0 1;
#X msg 264 513 connect \$1 \$2;
#X msg 460 560 send close \, disconnect;
#X obj 306 326 select 1;
#X obj 264 482 list append \$1 \$2;
#X obj 285 289 bng 20 250 50 0 initrcv \$0-activity Activity 22 10
0 10 #fcfcfc #ff0000 #000000;
#X obj 282 93 select 1;
#X obj 282 30 loadbang;
#X obj 281 125 metro 1000;
#X obj 281 159 1;
#X text 157 124 retry every sec;
#X text 126 60 autoconnect argument;
#X obj 334 161 != 1;
#X text 65 481 retrieve subpath arguments;
#X obj 282 59 \$4;
#X obj 262 539 trigger bang anything;
#X obj 678 587 receive fc_input;
#X obj 575 137 send fc_output;
#X obj 262 576 list append \$3;
#X msg 283 631 send initrcv \$1;
#X obj 525 47 netreceive \$3;
#X obj 281 189 spigot 1;
#X text 63 601 initial message to inform about callback port;
#X obj 317 423 != 1;
#X obj 264 451 spigot 1;
#X text 64 512 Connect message;
#X text 551 748 open/close doors;
#X msg 129 268 set \$1;
#X floatatom 366 771 5 0 0 0 - - - 0;
#X obj 283 659 t b a;
#X text 220 771 connection status;
#X text 44 175 door closed if already connected;
#X text 30 411 door closed if already connected;
#X obj 525 107 route 0;
#X obj 525 77 t a b;
#X text 62 221 Change switch \; to follow connection status;
#X obj 460 522 iemguts/closebang;
#X obj 599 263 list split 1;
#X obj 599 324 list;
#X obj 599 294 t b a, f 8;
#X obj 599 384 send;
#X obj 599 354 list trim;
#X obj 525 208 route close;
#X obj 571 77 s \$0-activity;
#X obj 678 615 s \$0-activity;
#X obj 535 522 r \$0-close;
#X obj 440 751 s \$0-connected;
#X obj 317 395 r \$0-connected;
#X obj 364 125 r \$0-connected;
#X obj 359 353 s \$0-close;
#X obj 525 236 s \$0-close;
#X connect 7 0 36 0;
#X connect 7 0 54 0;
#X connect 8 0 11 0;
#X connect 9 0 23 0;
#X connect 10 0 7 0;
#X connect 11 0 32 0;
#X connect 11 1 57 0;
#X connect 12 0 9 0;
#X connect 14 0 16 0;
#X connect 15 0 22 0;
#X connect 16 0 17 0;
#X connect 17 0 29 0;
#X connect 20 0 29 1;
#X connect 22 0 14 0;
#X connect 23 0 26 0;
#X connect 23 1 7 0;
#X connect 24 0 7 0;
#X connect 24 0 52 0;
#X connect 26 0 27 0;
#X connect 27 0 37 0;
#X connect 28 0 42 0;
#X connect 28 0 51 0;
#X connect 29 0 8 0;
#X connect 31 0 32 1;
#X connect 32 0 12 0;
#X connect 35 0 8 0;
#X connect 36 0 35 0;
#X connect 37 0 36 0;
#X connect 37 1 7 0;
#X connect 41 0 50 0;
#X connect 41 1 25 0;
#X connect 42 0 41 0;
#X connect 44 0 10 0;
#X connect 45 0 47 0;
#X connect 45 1 46 1;
#X connect 46 0 49 0;
#X connect 47 0 46 0;
#X connect 47 1 48 1;
#X connect 49 0 48 0;
#X connect 50 0 58 0;
#X connect 50 1 45 0;
#X connect 53 0 10 0;
#X connect 55 0 31 0;
#X connect 56 0 20 0;
#X coords 0 -1 1 1 150 80 1 263 231;
